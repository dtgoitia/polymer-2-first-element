<link rel="import" href="../../polymer/polymer-element.html">
<link rel="import" href="./filter/car-filter.html">
<link rel="import" href="./results/car-list.html">

<dom-module id="my-app">
  <template>
    <custom-style>
      <style>
        :host {
          --app-primary-color: #4285f4;
          --app-primary-background-color: #FFFFFF;
          --app-secondary-color: rgba(0, 0, 0, 0.8);
          --app-secondary-background-color: #AAAAAA;

          display: block;
          margin: 0 auto;
          padding-bottom: 4em;
          width: 95vw;
          min-height: 100vh;
          /* overflow: scroll; */
          overflow: visible;
          background-color: var(--app-secondary-background-color);
          font-family: 'Roboto', 'Noto', sans-serif;
        }

        .header {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          color: var(--app-primary-color);
          background-color: var(--app-primary-background-color);
          font-size: 2.2em;
          padding: 0.9em 1.3em 0.8em;
          border-bottom: 1.5px solid var(--app-secondary-color);
          z-index: 1000;
        }

        .content {
          color: var(--app-secondary-color);
          margin: 0 auto 0 auto;
          padding-top: 9em;
          max-width: 1300px;

          display: flex;
          flex-direction: row;
          flex-wrap: nowrap;
          justify-content: center;
          align-items: flex-start;
        }
      </style>
    </custom-style>

    <div class="header">Cars Co.</div>
    <div class="content">
      <car-filter
        update-results={{updateResults}}
        filter-data={{filterData}}
      >
      </car-filter>
      <car-list data={{results}}></car-list>
    </div>
  </template>

  <script>
    class MyApp extends Polymer.Element {
      static get is() { return "my-app"}
      static get properties() {
        return {
          filterData: {
            type: Object,
            value: {
              prices: {
                "max": 25000,
                "price": 20000,
                "step": 1000
              },
              makes: [
                { "make": "Benz", "check": false },
                { "make": "BMW",  "check": false },
                { "make": "Audi", "check": false }
              ],
              years: [
                { "year": 2015, "check": false },
                { "year": 2016, "check": false }
              ]
            }
          },
          results: {
            type: Array,
            // value: []
            value: [
              {"make":"ALFA ROMEO","model":"4C","price":20000,"year":2015,"image":"http://blog.caranddriver.com/wp-content/uploads/2014/06/2015-Alfa-Romeo-4C-Launch-Edition-PLACEMENT-626x382.jpg"},
              {"make":"AUDI","model":"A4","price":29000,"year":2015,"image":"http://media.caranddriver.com/images/13q4/543506/2015-audi-a4-rendered-detailed-news-car-and-driver-photo-560015-s-450x274.jpg"},
              {"make":"AUDI","model":"TT QUATTRO","price":45000,"year":2015,"image":"http://www.dpccars.com/gallery/var/resizes/Silver-2015-Audi-TT-in-snow-photoshoot/Silver%202015%20Audi%20TT%20in%20snow%20photoshoot%20(2).jpg"},
              {"make":"BENTLEY","model":"CONTINENTAL","price":49000,"year":2015,"image":"http://ag-spots-2015.o.auroraobjects.eu/2015/01/26/bentley-continental-gt-speed-2015-c663026012015045948_1.jpg"},
              {"make":"BMW","model":"328D","price":35000,"year":2015,"image":"https://acarisnotarefrigerator.files.wordpress.com/2013/11/2014-bmw-328d-wagon-front.jpg"},
              {"make":"FORD","model":"C-MAX","price":15000,"year":2015,"image":"http://images.car.bauercdn.com/upload/33216/images/1752x1168/grand-c-max-01.jpg?mode=max&quality=90&scale=down"},
              {"make":"HONDA","model":"CIVIC","price":12000,"year":2015,"image":"http://contentservice.mc.reyrey.net/image_v1.0.0/61806229"},
              {"make":"JEEP","model":"CHEROKEE","price":10000,"year":2015,"image":"http://blogs-images.forbes.com/kbrauer/files/2015/05/2015-Jeep-Cherokee-Front.jpg?width=960"},
              {"make":"KIA","model":"SOUL","price":11000,"year":2015,"image":"https://i.ytimg.com/vi/O1XUiUSDU6k/hqdefault.jpg"},
              {"make":"LAND ROVER","model":"RANGE ROVER","price":50000,"year":2015,"image":"http://tcledev.com/wp-content/uploads/2015/07/2015-Land-Rover-Range-Rover-Great-CarPhoto.jpg"},
              {"make":"MASERATI","model":"GRANTURISMO","price":10000,"year":2015,"image":"http://spidercars.net/wp-content/uploads/images/2015-Maserati-GranTurismo_1040.jpg"},
              {"make":"MERCEDES-BENZ","model":"SLS AMG","price":10000,"year":2015,"image":"http://www.cstatic-images.com/stock/900x600/1425674997269.jpg"},
              {"make":"PORSCHE","model":"911","price":20000,"year":2015,"image":"http://media.caranddriver.com/images/14q4/638371/2015-porsche-911-gts-photos-and-info-news-car-and-driver-photo-640321-s-450x274.jpg"},
              {"make":"RENAULT","model":"CLIO","price":10000,"year":2015,"image":"http://www.kearys.ie/imglib/KearysResponsive2014/why-buy-the-2015-renault-clio-exterior.jpg"},
              {"make":"SMART","model":"FORTWO","price":25000,"year":2015,"image":"http://images.car.bauercdn.com/upload/32819/images/001_2fortwo.jpg"},
              {"make":"TESLA","model":"S","price":40000,"year":2015,"image":"http://www.thetechherald.com/wp-content/uploads/2015/12/tesla-model-s.jpg"},
              {"make":"TOYOTA","model":"PRIUS","price":15000,"year":2015,"image":"http://images.hgmsites.net/hug/2015-toyota-prius-5dr-hb-three-natl-angular-front-exterior-view_100485217_h.jpg"},
              {"make":"TOYOTA","model":"RAV4","price":22000,"year":2015,"image":"http://www.iihs.org/frontend/iihs/ratings/images/api-model-year-image.ashx?id=1863&width=730"},
              {"make":"VOLKSWAGEN","model":"GOLF","price":23000,"year":2016,"image":"http://st.motortrend.com/uploads/sites/10/2015/09/2015-volkswagen-golf-gti-front-angle.jpg"},
              {"make":"VOLVO","model":"XC90","price":49000,"year":2016,"image":"http://s3.caradvice.com.au/thumb/960/500/wp-content/uploads/2015/09/volvo-xc90-d5-momentum-2015-58.jpg"}
            ]
          }
        }
      }

      constructor() {
        super();
        this.updateResults = this.updateResults.bind(this);
      }

      updateResults() {
        console.log('MyApp.updateResults() called');
      }
    }
    
    customElements.define(MyApp.is, MyApp);
  </script>
</dom-module>
